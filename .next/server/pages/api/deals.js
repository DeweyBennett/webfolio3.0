"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/deals";
exports.ids = ["pages/api/deals"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "validator":
/*!****************************!*\
  !*** external "validator" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("validator");

/***/ }),

/***/ "(api)/./Models/Deal.js":
/*!************************!*\
  !*** ./Models/Deal.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var validator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! validator */ \"validator\");\n/* harmony import */ var validator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(validator__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst DealSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    firstName: {\n        type: String,\n        required: [\n            true,\n            'User first name is required'\n        ]\n    },\n    lastName: {\n        type: String,\n        required: [\n            true,\n            'User last name is required'\n        ]\n    },\n    organization: {\n        type: String\n    },\n    email: {\n        type: String,\n        unique: true,\n        maxlength: 60,\n        validate: [\n            (validator__WEBPACK_IMPORTED_MODULE_1___default().isEmail),\n            \"Please enter a valid email address\"\n        ],\n        required: [\n            true,\n            'User email is required'\n        ]\n    },\n    devCosts: {\n        type: String,\n        required: true\n    },\n    monthlyCosts: {\n        type: String,\n        required: true\n    },\n    projectManager: {\n        type: String,\n        required: true\n    },\n    projectName: {\n        type: String,\n        required: true\n    },\n    devStatus: {\n        type: String,\n        required: true\n    },\n    productionStage: {\n        type: String,\n        required: true\n    },\n    projectDetails: {\n        type: String,\n        required: true\n    }\n}, {\n    timestamps: true\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.Deal) || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Deal\", DealSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9Nb2RlbHMvRGVhbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUErQjtBQUNFO0FBRWpDLEtBQUssQ0FBQ0UsVUFBVSxHQUFHLEdBQUcsQ0FBQ0Ysd0RBQWUsQ0FDcEMsQ0FBQztJQUNDSSxTQUFTLEVBQUUsQ0FBQztRQUNWQyxJQUFJLEVBQUVDLE1BQU07UUFDWkMsUUFBUSxFQUFFLENBQUM7WUFBQSxJQUFJO1lBQUUsQ0FBNkI7UUFBQSxDQUFDO0lBQ2pELENBQUM7SUFDREMsUUFBUSxFQUFFLENBQUM7UUFDVEgsSUFBSSxFQUFFQyxNQUFNO1FBQ1pDLFFBQVEsRUFBRSxDQUFDO1lBQUEsSUFBSTtZQUFFLENBQTRCO1FBQUEsQ0FBQztJQUNoRCxDQUFDO0lBQ0RFLFlBQVksRUFBRSxDQUFDO1FBQ2JKLElBQUksRUFBRUMsTUFBTTtJQUNkLENBQUM7SUFDREksS0FBSyxFQUFFLENBQUM7UUFDTkwsSUFBSSxFQUFFQyxNQUFNO1FBQ1pLLE1BQU0sRUFBRSxJQUFJO1FBQ1pDLFNBQVMsRUFBRSxFQUFFO1FBQ2JDLFFBQVEsRUFBRSxDQUFDWjtZQUFBQSwwREFBaUI7WUFBRSxDQUFvQztRQUFBLENBQUM7UUFDbkVNLFFBQVEsRUFBRSxDQUFDO1lBQUEsSUFBSTtZQUFFLENBQXdCO1FBQUEsQ0FBQztJQUM1QyxDQUFDO0lBQ0RRLFFBQVEsRUFBRSxDQUFDO1FBQ1BWLElBQUksRUFBRUMsTUFBTTtRQUNaQyxRQUFRLEVBQUUsSUFBSTtJQUNsQixDQUFDO0lBQ0RTLFlBQVksRUFBRSxDQUFDO1FBQ1hYLElBQUksRUFBRUMsTUFBTTtRQUNaQyxRQUFRLEVBQUUsSUFBSTtJQUNsQixDQUFDO0lBQ0RVLGNBQWMsRUFBRSxDQUFDO1FBQ2JaLElBQUksRUFBRUMsTUFBTTtRQUNaQyxRQUFRLEVBQUUsSUFBSTtJQUNsQixDQUFDO0lBQ0RXLFdBQVcsRUFBRSxDQUFDO1FBQ1ZiLElBQUksRUFBRUMsTUFBTTtRQUNaQyxRQUFRLEVBQUUsSUFBSTtJQUNsQixDQUFDO0lBQ0RZLFNBQVMsRUFBRSxDQUFDO1FBQ1JkLElBQUksRUFBRUMsTUFBTTtRQUNaQyxRQUFRLEVBQUUsSUFBSTtJQUNsQixDQUFDO0lBQ0RhLGVBQWUsRUFBRSxDQUFDO1FBQ2RmLElBQUksRUFBRUMsTUFBTTtRQUNaQyxRQUFRLEVBQUUsSUFBSTtJQUNsQixDQUFDO0lBQ0RjLGNBQWMsRUFBRSxDQUFDO1FBQ2JoQixJQUFJLEVBQUVDLE1BQU07UUFDWkMsUUFBUSxFQUFFLElBQUk7SUFDbEIsQ0FBQztBQUNILENBQUMsRUFDRCxDQUFDO0lBQUNlLFVBQVUsRUFBRSxJQUFJO0FBQUMsQ0FBQztBQUd0QixpRUFBZXRCLDZEQUFvQixJQUFJQSxxREFBYyxDQUFDLENBQU0sT0FBRUUsVUFBVSxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9Nb2RlbHMvRGVhbC5qcz82MDM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcclxuaW1wb3J0IHZhbGlkYXRvciBmcm9tICd2YWxpZGF0b3InO1xyXG5cclxuY29uc3QgRGVhbFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgZmlyc3ROYW1lOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnVXNlciBmaXJzdCBuYW1lIGlzIHJlcXVpcmVkJ10sXHJcbiAgICB9LFxyXG4gICAgbGFzdE5hbWU6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogW3RydWUsICdVc2VyIGxhc3QgbmFtZSBpcyByZXF1aXJlZCddLFxyXG4gICAgfSxcclxuICAgIG9yZ2FuaXphdGlvbjoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICB9LFxyXG4gICAgZW1haWw6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICB1bmlxdWU6IHRydWUsXHJcbiAgICAgIG1heGxlbmd0aDogNjAsXHJcbiAgICAgIHZhbGlkYXRlOiBbdmFsaWRhdG9yLmlzRW1haWwsIFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzc1wiXSxcclxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnVXNlciBlbWFpbCBpcyByZXF1aXJlZCddLFxyXG4gICAgfSxcclxuICAgIGRldkNvc3RzOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIG1vbnRobHlDb3N0czoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBwcm9qZWN0TWFuYWdlcjoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBwcm9qZWN0TmFtZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBkZXZTdGF0dXM6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB9LFxyXG4gICAgcHJvZHVjdGlvblN0YWdlOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIHByb2plY3REZXRhaWxzOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfVxyXG4gIH0sXHJcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH1cclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVscy5EZWFsIHx8IG1vbmdvb3NlLm1vZGVsKFwiRGVhbFwiLCBEZWFsU2NoZW1hKTtcclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwidmFsaWRhdG9yIiwiRGVhbFNjaGVtYSIsIlNjaGVtYSIsImZpcnN0TmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImxhc3ROYW1lIiwib3JnYW5pemF0aW9uIiwiZW1haWwiLCJ1bmlxdWUiLCJtYXhsZW5ndGgiLCJ2YWxpZGF0ZSIsImlzRW1haWwiLCJkZXZDb3N0cyIsIm1vbnRobHlDb3N0cyIsInByb2plY3RNYW5hZ2VyIiwicHJvamVjdE5hbWUiLCJkZXZTdGF0dXMiLCJwcm9kdWN0aW9uU3RhZ2UiLCJwcm9qZWN0RGV0YWlscyIsInRpbWVzdGFtcHMiLCJtb2RlbHMiLCJEZWFsIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./Models/Deal.js\n");

/***/ }),

/***/ "(api)/./pages/api/deals/index.js":
/*!**********************************!*\
  !*** ./pages/api/deals/index.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _utils_mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/mongodb */ \"(api)/./utils/mongodb.js\");\n/* harmony import */ var _Models_Deal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Models/Deal */ \"(api)/./Models/Deal.js\");\n\n\n\nasync function handler(req, res) {\n    await (0,_utils_mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n    if (req.method === \"GET\") {\n        try {\n            const allDeals = await _Models_Deal__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({});\n            return res.status(200).json({\n                allDeals\n            });\n        } catch (err) {\n            res.status(500).json(err);\n        }\n    }\n    if (req.method === \"POST\") {\n        const data = req.body;\n        const { firstName , lastName , organization , email , devCosts , monthlyCosts , projectManager , projectName , projectDetails , devStatus , productionStage  } = JSON.parse(data);\n        try {\n            const newDeal = await _Models_Deal__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n                firstName,\n                lastName,\n                organization,\n                email,\n                devCosts,\n                monthlyCosts,\n                projectManager,\n                projectName,\n                projectDetails,\n                devStatus,\n                productionStage\n            });\n            console.log(\"New deal created\", newDeal);\n            return res.status(201).json({\n                message: \"Successful\"\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvZGVhbHMvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBQ0o7QUFDSDtBQUV4QixlQUFlRyxPQUFPLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFLENBQUM7SUFDN0MsS0FBSyxDQUFDTCwwREFBUyxFQUFFLENBQUM7SUFFbEIsRUFBRSxFQUFFSSxHQUFHLENBQUNFLE1BQU0sS0FBSyxDQUFLLE1BQUUsQ0FBQztRQUN2QixHQUFHLENBQUMsQ0FBQztZQUNELEtBQUssQ0FBQ0MsUUFBUSxHQUFHLEtBQUssQ0FBQ0wseURBQVMsQ0FBQyxDQUFDLENBQUM7WUFFbkMsTUFBTSxDQUFDRyxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLEVBQUVDLElBQUksQ0FBQyxDQUFDO2dCQUFDSCxRQUFRO1lBQUMsQ0FBQztRQUM1QyxDQUFDLENBQUMsS0FBSyxFQUFDSSxHQUFHLEVBQUUsQ0FBQztZQUNWTixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLEVBQUVDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUM7UUFDOUIsQ0FBQztJQUNMLENBQUM7SUFFRCxFQUFFLEVBQUVQLEdBQUcsQ0FBQ0UsTUFBTSxLQUFLLENBQU0sT0FBRSxDQUFDO1FBQ3hCLEtBQUssQ0FBQ00sSUFBSSxHQUFHUixHQUFHLENBQUNTLElBQUk7UUFDckIsS0FBSyxDQUFDLENBQUMsQ0FBQ0MsU0FBUyxHQUFFQyxRQUFRLEdBQUVDLFlBQVksR0FBRUMsS0FBSyxHQUFFQyxRQUFRLEdBQUVDLFlBQVksR0FBRUMsY0FBYyxHQUFFQyxXQUFXLEdBQUVDLGNBQWMsR0FBRUMsU0FBUyxHQUFFQyxlQUFlLEVBQUMsQ0FBQyxHQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FBQ2QsSUFBSTtRQUVySyxHQUFHLENBQUMsQ0FBQztZQUNELEtBQUssQ0FBQ2UsT0FBTyxHQUFHLEtBQUssQ0FBQ3pCLDJEQUFXLENBQUMsQ0FBQztnQkFBQ1ksU0FBUztnQkFBRUMsUUFBUTtnQkFBRUMsWUFBWTtnQkFBRUMsS0FBSztnQkFBRUMsUUFBUTtnQkFBRUMsWUFBWTtnQkFBRUMsY0FBYztnQkFBRUMsV0FBVztnQkFBRUMsY0FBYztnQkFBRUMsU0FBUztnQkFBRUMsZUFBZTtZQUFDLENBQUM7WUFFL0tLLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQWtCLG1CQUFFSCxPQUFPO1lBRXZDLE1BQU0sQ0FBQ3RCLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsRUFBRUMsSUFBSSxDQUFDLENBQUM7Z0JBQUNxQixPQUFPLEVBQUUsQ0FBWTtZQUFDLENBQUM7UUFDekQsQ0FBQyxDQUFDLEtBQUssRUFBQ3BCLEdBQUcsRUFBRSxDQUFDO1lBQ1ZrQixPQUFPLENBQUNDLEdBQUcsQ0FBQ25CLEdBQUcsQ0FBQyxDQUFDO1FBQ3JCLENBQUM7SUFDTCxDQUFDO0FBQ0wsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LWFwcC8uL3BhZ2VzL2FwaS9kZWFscy9pbmRleC5qcz9iMmNiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkYkNvbm5lY3QgZnJvbSBcIi4uLy4uLy4uL3V0aWxzL21vbmdvZGJcIjtcclxuaW1wb3J0IFJlZ1VzZXIgZnJvbSBcIi4uLy4uLy4uL01vZGVscy9EZWFsXCI7XHJcbmltcG9ydCBEZWFsIGZyb20gXCIuLi8uLi8uLi9Nb2RlbHMvRGVhbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gICAgYXdhaXQgZGJDb25uZWN0KCk7XHJcblxyXG4gICAgaWYgKHJlcS5tZXRob2QgPT09IFwiR0VUXCIpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBhbGxEZWFscyA9IGF3YWl0IERlYWwuZmluZCh7fSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBhbGxEZWFscyB9KTtcclxuICAgICAgICB9IGNhdGNoKGVycikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAocmVxLm1ldGhvZCA9PT0gXCJQT1NUXCIpIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgY29uc3QgeyBmaXJzdE5hbWUsIGxhc3ROYW1lLCBvcmdhbml6YXRpb24sIGVtYWlsLCBkZXZDb3N0cywgbW9udGhseUNvc3RzLCBwcm9qZWN0TWFuYWdlciwgcHJvamVjdE5hbWUsIHByb2plY3REZXRhaWxzLCBkZXZTdGF0dXMsIHByb2R1Y3Rpb25TdGFnZSB9ID0gSlNPTi5wYXJzZShkYXRhKTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgbmV3RGVhbCA9IGF3YWl0IERlYWwuY3JlYXRlKHsgZmlyc3ROYW1lLCBsYXN0TmFtZSwgb3JnYW5pemF0aW9uLCBlbWFpbCwgZGV2Q29zdHMsIG1vbnRobHlDb3N0cywgcHJvamVjdE1hbmFnZXIsIHByb2plY3ROYW1lLCBwcm9qZWN0RGV0YWlscywgZGV2U3RhdHVzLCBwcm9kdWN0aW9uU3RhZ2UgfSlcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTmV3IGRlYWwgY3JlYXRlZFwiLCBuZXdEZWFsKVxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oeyBtZXNzYWdlOiBcIlN1Y2Nlc3NmdWxcIiB9KTtcclxuICAgICAgICB9IGNhdGNoKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJuYW1lcyI6WyJkYkNvbm5lY3QiLCJSZWdVc2VyIiwiRGVhbCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJhbGxEZWFscyIsImZpbmQiLCJzdGF0dXMiLCJqc29uIiwiZXJyIiwiZGF0YSIsImJvZHkiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsIm9yZ2FuaXphdGlvbiIsImVtYWlsIiwiZGV2Q29zdHMiLCJtb250aGx5Q29zdHMiLCJwcm9qZWN0TWFuYWdlciIsInByb2plY3ROYW1lIiwicHJvamVjdERldGFpbHMiLCJkZXZTdGF0dXMiLCJwcm9kdWN0aW9uU3RhZ2UiLCJKU09OIiwicGFyc2UiLCJuZXdEZWFsIiwiY3JlYXRlIiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/deals/index.js\n");

/***/ }),

/***/ "(api)/./utils/mongodb.js":
/*!**************************!*\
  !*** ./utils/mongodb.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGO_URL = process.env.MONGO_URL;\nif (!MONGO_URL) {\n    throw new Error('Mongo URL was not found. Review env variables.');\n}\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections growing exponentially\r\n * during API Route usage.\r\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGO_URL, opts).then((mongoose1)=>{\n            return mongoose1;\n        });\n    }\n    cached.conn = await cached.promise;\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9tb25nb2RiLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQjtBQUUvQixLQUFLLENBQUNDLFNBQVMsR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNGLFNBQVM7QUFFdkMsRUFBRSxHQUFHQSxTQUFTLEVBQUUsQ0FBQztJQUNmLEtBQUssQ0FBQyxHQUFHLENBQUNHLEtBQUssQ0FDYixDQUFnRDtBQUVwRCxDQUFDO0FBRUQsRUFJRztBQUdILEVBQUUsR0FBR0MsTUFBTSxFQUFFLENBQUM7SUFDWkEsTUFBTSxHQUFHQyxNQUFNLENBQUNOLFFBQVEsR0FBRyxDQUFDO1FBQUNPLElBQUksRUFBRSxJQUFJO1FBQUVDLE9BQU8sRUFBRSxJQUFJO0lBQUMsQ0FBQztBQUMxRCxDQUFDO2VBRWNDO0lBQ2IsRUFBRSxFQUFFSixNQUFNLENBQUNFLElBQUksRUFBRTs7O0lBSWpCLEVBQUUsR0FBR0YsTUFBTSxDQUFDRyxPQUFPLEVBQUUsQ0FBQztRQUNwQixLQUFLLENBQUNFLElBQUksR0FBRyxDQUFDO1lBQ1pDLGNBQWM7O1FBR2hCTixNQUFNLENBQUNHLE9BQU8sR0FBR1I7WUFDZixNQUFNLENBQUNBO1FBQ1QsQ0FBQztJQUNILENBQUM7SUFDREssTUFBTSxDQUFDRSxJQUFJLEdBQUcsS0FBSyxDQUFDRixDQUFBQSx1REFBYztJQUNsQyxNQUFNLENBQUNBLE1BQU0sQ0FBQ0UsSUFBSTtBQUNwQixDQUFDO0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi91dGlscy9tb25nb2RiLmpzPzhmZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuY29uc3QgTU9OR09fVVJMID0gcHJvY2Vzcy5lbnYuTU9OR09fVVJMXHJcblxyXG5pZiAoIU1PTkdPX1VSTCkge1xyXG4gIHRocm93IG5ldyBFcnJvcihcclxuICAgICdNb25nbyBVUkwgd2FzIG5vdCBmb3VuZC4gUmV2aWV3IGVudiB2YXJpYWJsZXMuJ1xyXG4gIClcclxufVxyXG5cclxuLyoqXHJcbiAqIEdsb2JhbCBpcyB1c2VkIGhlcmUgdG8gbWFpbnRhaW4gYSBjYWNoZWQgY29ubmVjdGlvbiBhY3Jvc3MgaG90IHJlbG9hZHNcclxuICogaW4gZGV2ZWxvcG1lbnQuIFRoaXMgcHJldmVudHMgY29ubmVjdGlvbnMgZ3Jvd2luZyBleHBvbmVudGlhbGx5XHJcbiAqIGR1cmluZyBBUEkgUm91dGUgdXNhZ2UuXHJcbiAqL1xyXG5sZXQgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlXHJcblxyXG5pZiAoIWNhY2hlZCkge1xyXG4gIGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZSA9IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRiQ29ubmVjdCgpIHtcclxuICBpZiAoY2FjaGVkLmNvbm4pIHtcclxuICAgIHJldHVybiBjYWNoZWQuY29ublxyXG4gIH1cclxuXHJcbiAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xyXG4gICAgY29uc3Qgb3B0cyA9IHtcclxuICAgICAgYnVmZmVyQ29tbWFuZHM6IGZhbHNlLFxyXG4gICAgfVxyXG5cclxuICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChNT05HT19VUkwsIG9wdHMpLnRoZW4oKG1vbmdvb3NlKSA9PiB7XHJcbiAgICAgIHJldHVybiBtb25nb29zZVxyXG4gICAgfSlcclxuICB9XHJcbiAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZVxyXG4gIHJldHVybiBjYWNoZWQuY29ublxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkYkNvbm5lY3QiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJNT05HT19VUkwiLCJwcm9jZXNzIiwiZW52IiwiRXJyb3IiLCJjYWNoZWQiLCJnbG9iYWwiLCJjb25uIiwicHJvbWlzZSIsImRiQ29ubmVjdCIsIm9wdHMiLCJidWZmZXJDb21tYW5kcyIsImNvbm5lY3QiLCJ0aGVuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./utils/mongodb.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/deals/index.js"));
module.exports = __webpack_exports__;

})();
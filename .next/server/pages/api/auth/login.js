"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/login";
exports.ids = ["pages/api/auth/login"];
exports.modules = {

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "validator":
/*!****************************!*\
  !*** external "validator" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("validator");

/***/ }),

/***/ "(api)/./Models/RegUser.js":
/*!***************************!*\
  !*** ./Models/RegUser.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var validator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! validator */ \"validator\");\n/* harmony import */ var validator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(validator__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst RegUserSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    firstName: {\n        type: String,\n        required: [\n            true,\n            'User first name is required'\n        ]\n    },\n    lastName: {\n        type: String,\n        required: [\n            true,\n            'User last name is required'\n        ]\n    },\n    organization: {\n        type: String\n    },\n    jobTitle: {\n        type: String\n    },\n    email: {\n        type: String,\n        unique: true,\n        maxlength: 60,\n        validate: [\n            (validator__WEBPACK_IMPORTED_MODULE_1___default().isEmail),\n            \"Please enter a valid email address\"\n        ],\n        required: [\n            true,\n            'User email is required'\n        ]\n    },\n    phoneNumber: {\n        type: String,\n        validate: {\n            validator: function(v) {\n                return /\\d{3}-\\d{3}-\\d{4}/.test(v);\n            },\n            message: (props)=>`${props.value} is not a valid phone number!`\n        },\n        required: [\n            true,\n            'User phone number is required'\n        ]\n    },\n    streetAdress: {\n        type: String,\n        maxlength: 60\n    },\n    city: {\n        type: String,\n        maxlength: 20\n    },\n    state: {\n        type: String,\n        maxlength: 15\n    },\n    zipCode: {\n        type: String,\n        maxlength: 5\n    },\n    password: {\n        type: String,\n        maxlength: 60\n    },\n    role: {\n        type: String,\n        required: true\n    },\n    notes: {\n        type: String\n    }\n}, {\n    timestamps: true\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.RegUser) || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"RegUser\", RegUserSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9Nb2RlbHMvUmVnVXNlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUErQjtBQUNFO0FBRWpDLEtBQUssQ0FBQ0UsYUFBYSxHQUFHLEdBQUcsQ0FBQ0Ysd0RBQWUsQ0FDdkMsQ0FBQztJQUNDSSxTQUFTLEVBQUUsQ0FBQztRQUNWQyxJQUFJLEVBQUVDLE1BQU07UUFDWkMsUUFBUSxFQUFFLENBQUM7WUFBQSxJQUFJO1lBQUUsQ0FBNkI7UUFBQSxDQUFDO0lBQ2pELENBQUM7SUFDREMsUUFBUSxFQUFFLENBQUM7UUFDVEgsSUFBSSxFQUFFQyxNQUFNO1FBQ1pDLFFBQVEsRUFBRSxDQUFDO1lBQUEsSUFBSTtZQUFFLENBQTRCO1FBQUEsQ0FBQztJQUNoRCxDQUFDO0lBQ0RFLFlBQVksRUFBRSxDQUFDO1FBQ2JKLElBQUksRUFBRUMsTUFBTTtJQUNkLENBQUM7SUFDREksUUFBUSxFQUFFLENBQUM7UUFDVEwsSUFBSSxFQUFFQyxNQUFNO0lBQ2QsQ0FBQztJQUNESyxLQUFLLEVBQUUsQ0FBQztRQUNOTixJQUFJLEVBQUVDLE1BQU07UUFDWk0sTUFBTSxFQUFFLElBQUk7UUFDWkMsU0FBUyxFQUFFLEVBQUU7UUFDYkMsUUFBUSxFQUFFLENBQUNiO1lBQUFBLDBEQUFpQjtZQUFFLENBQW9DO1FBQUEsQ0FBQztRQUNuRU0sUUFBUSxFQUFFLENBQUM7WUFBQSxJQUFJO1lBQUUsQ0FBd0I7UUFBQSxDQUFDO0lBQzVDLENBQUM7SUFDRFMsV0FBVyxFQUFFLENBQUM7UUFDVlgsSUFBSSxFQUFFQyxNQUFNO1FBQ1pRLFFBQVEsRUFBRSxDQUFDO1lBQ1BiLFNBQVMsRUFBRSxRQUFRLENBQUNnQixDQUFDLEVBQUUsQ0FBQztnQkFDcEIsTUFBTSxxQkFBcUJDLElBQUksQ0FBQ0QsQ0FBQztZQUNyQyxDQUFDO1lBQ0RFLE9BQU8sR0FBRUMsS0FBSyxNQUFPQSxLQUFLLENBQUNDLEtBQUssQ0FBQyw2QkFBNkI7UUFDbEUsQ0FBQztRQUNEZCxRQUFRLEVBQUUsQ0FBQztZQUFBLElBQUk7WUFBRSxDQUErQjtRQUFBLENBQUM7SUFDckQsQ0FBQztJQUNEZSxZQUFZLEVBQUUsQ0FBQztRQUNiakIsSUFBSSxFQUFFQyxNQUFNO1FBQ1pPLFNBQVMsRUFBRSxFQUFFO0lBQ2YsQ0FBQztJQUNEVSxJQUFJLEVBQUUsQ0FBQztRQUNMbEIsSUFBSSxFQUFFQyxNQUFNO1FBQ1pPLFNBQVMsRUFBRSxFQUFFO0lBQ2YsQ0FBQztJQUNEVyxLQUFLLEVBQUUsQ0FBQztRQUNObkIsSUFBSSxFQUFFQyxNQUFNO1FBQ1pPLFNBQVMsRUFBRSxFQUFFO0lBQ2YsQ0FBQztJQUNEWSxPQUFPLEVBQUUsQ0FBQztRQUNScEIsSUFBSSxFQUFFQyxNQUFNO1FBQ1pPLFNBQVMsRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUNEYSxRQUFRLEVBQUUsQ0FBQztRQUNUckIsSUFBSSxFQUFFQyxNQUFNO1FBQ1pPLFNBQVMsRUFBRSxFQUFFO0lBQ2YsQ0FBQztJQUNEYyxJQUFJLEVBQUUsQ0FBQztRQUNMdEIsSUFBSSxFQUFFQyxNQUFNO1FBQ1pDLFFBQVEsRUFBRSxJQUFJO0lBQ2hCLENBQUM7SUFDRHFCLEtBQUssRUFBRSxDQUFDO1FBQ052QixJQUFJLEVBQUVDLE1BQU07SUFDZCxDQUFDO0FBQ0gsQ0FBQyxFQUNELENBQUM7SUFBQ3VCLFVBQVUsRUFBRSxJQUFJO0FBQUMsQ0FBQztBQUd0QixpRUFBZTdCLGdFQUF1QixJQUFJQSxxREFBYyxDQUFDLENBQVMsVUFBRUUsYUFBYSxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9Nb2RlbHMvUmVnVXNlci5qcz8wODJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcclxuaW1wb3J0IHZhbGlkYXRvciBmcm9tICd2YWxpZGF0b3InO1xyXG5cclxuY29uc3QgUmVnVXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgZmlyc3ROYW1lOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnVXNlciBmaXJzdCBuYW1lIGlzIHJlcXVpcmVkJ10sXHJcbiAgICB9LFxyXG4gICAgbGFzdE5hbWU6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogW3RydWUsICdVc2VyIGxhc3QgbmFtZSBpcyByZXF1aXJlZCddLFxyXG4gICAgfSxcclxuICAgIG9yZ2FuaXphdGlvbjoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICB9LFxyXG4gICAgam9iVGl0bGU6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgfSxcclxuICAgIGVtYWlsOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgdW5pcXVlOiB0cnVlLFxyXG4gICAgICBtYXhsZW5ndGg6IDYwLFxyXG4gICAgICB2YWxpZGF0ZTogW3ZhbGlkYXRvci5pc0VtYWlsLCBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3NcIl0sXHJcbiAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ1VzZXIgZW1haWwgaXMgcmVxdWlyZWQnXSxcclxuICAgIH0sXHJcbiAgICBwaG9uZU51bWJlcjoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICB2YWxpZGF0ZToge1xyXG4gICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHYpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAvXFxkezN9LVxcZHszfS1cXGR7NH0vLnRlc3Qodik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IHByb3BzID0+IGAke3Byb3BzLnZhbHVlfSBpcyBub3QgYSB2YWxpZCBwaG9uZSBudW1iZXIhYCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ1VzZXIgcGhvbmUgbnVtYmVyIGlzIHJlcXVpcmVkJ10sXHJcbiAgICB9LFxyXG4gICAgc3RyZWV0QWRyZXNzOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgbWF4bGVuZ3RoOiA2MCxcclxuICAgIH0sXHJcbiAgICBjaXR5OiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgbWF4bGVuZ3RoOiAyMCxcclxuICAgIH0sXHJcbiAgICBzdGF0ZToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIG1heGxlbmd0aDogMTUsXHJcbiAgICB9LFxyXG4gICAgemlwQ29kZToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIG1heGxlbmd0aDogNSxcclxuICAgIH0sXHJcbiAgICBwYXNzd29yZDoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIG1heGxlbmd0aDogNjAsXHJcbiAgICB9LFxyXG4gICAgcm9sZToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIG5vdGVzOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgIH1cclxuICB9LFxyXG4gIHsgdGltZXN0YW1wczogdHJ1ZSB9XHJcbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuUmVnVXNlciB8fCBtb25nb29zZS5tb2RlbChcIlJlZ1VzZXJcIiwgUmVnVXNlclNjaGVtYSk7XHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsInZhbGlkYXRvciIsIlJlZ1VzZXJTY2hlbWEiLCJTY2hlbWEiLCJmaXJzdE5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJsYXN0TmFtZSIsIm9yZ2FuaXphdGlvbiIsImpvYlRpdGxlIiwiZW1haWwiLCJ1bmlxdWUiLCJtYXhsZW5ndGgiLCJ2YWxpZGF0ZSIsImlzRW1haWwiLCJwaG9uZU51bWJlciIsInYiLCJ0ZXN0IiwibWVzc2FnZSIsInByb3BzIiwidmFsdWUiLCJzdHJlZXRBZHJlc3MiLCJjaXR5Iiwic3RhdGUiLCJ6aXBDb2RlIiwicGFzc3dvcmQiLCJyb2xlIiwibm90ZXMiLCJ0aW1lc3RhbXBzIiwibW9kZWxzIiwiUmVnVXNlciIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./Models/RegUser.js\n");

/***/ }),

/***/ "(api)/./pages/api/auth/login.js":
/*!*********************************!*\
  !*** ./pages/api/auth/login.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _utils_mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/mongodb */ \"(api)/./utils/mongodb.js\");\n/* harmony import */ var _Models_RegUser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Models/RegUser */ \"(api)/./Models/RegUser.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nasync function handler(req, res) {\n    await (0,_utils_mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n    console.log(\"Sign in request received by login API\", req.body);\n    if (req.method === \"POST\") {\n        const data = req.body;\n        const { email , password  } = data;\n        console.log(\"data\", data);\n        const user = await _Models_RegUser__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            email: email\n        });\n        console.log(\"User found\", user);\n        if (!user) {\n            return res.status(422).send({\n                message: \"User does not exist\"\n            });\n        }\n        const doMatch = await bcryptjs__WEBPACK_IMPORTED_MODULE_2___default().compare(password, user.password);\n        if (doMatch) {\n            console.log(\"Password match\");\n            try {\n                const { firstName , lastName , organization , jobTitle , email , role , _id  } = user;\n                return res.status(201).json({\n                    user: {\n                        firstName,\n                        lastName,\n                        organization,\n                        jobTitle,\n                        email,\n                        role,\n                        _id\n                    },\n                    message: \"Successful Login\"\n                });\n            } catch (err) {\n                return res.status(404).send({\n                    message: \"Incorrect Credentials\"\n                });\n            }\n        } else {\n            console.log(\"Password does not match\");\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXV0aC9sb2dpbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE4QztBQUNEO0FBQ2hCO0FBRWQsZUFBZUcsT0FBTyxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRSxDQUFDO0lBQzdDLEtBQUssQ0FBQ0wsMERBQVMsRUFBRSxDQUFDO0lBRWxCTSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUF1Qyx3Q0FBRUgsR0FBRyxDQUFDSSxJQUFJO0lBRTdELEVBQUUsRUFBRUosR0FBRyxDQUFDSyxNQUFNLEtBQUssQ0FBTSxPQUFFLENBQUM7UUFDeEIsS0FBSyxDQUFDQyxJQUFJLEdBQUdOLEdBQUcsQ0FBQ0ksSUFBSTtRQUNyQixLQUFLLENBQUMsQ0FBQyxDQUFDRyxLQUFLLEdBQUVDLFFBQVEsRUFBQyxDQUFDLEdBQUdGLElBQUk7UUFDaENKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQU0sT0FBRUcsSUFBSTtRQUN4QixLQUFLLENBQUNHLElBQUksR0FBRyxLQUFLLENBQUNaLCtEQUFlLENBQUMsQ0FBQztZQUFDVSxLQUFLLEVBQUVBLEtBQUs7UUFBQyxDQUFDO1FBRW5ETCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFZLGFBQUVNLElBQUk7UUFFOUIsRUFBRSxHQUFHQSxJQUFJLEVBQUUsQ0FBQztZQUNSLE1BQU0sQ0FBQ1IsR0FBRyxDQUFDVSxNQUFNLENBQUMsR0FBRyxFQUFFQyxJQUFJLENBQUMsQ0FBQztnQkFBQ0MsT0FBTyxFQUFFLENBQXFCO1lBQUMsQ0FBQztRQUNsRSxDQUFDO1FBRUQsS0FBSyxDQUFDQyxPQUFPLEdBQUcsS0FBSyxDQUFDaEIsdURBQWMsQ0FBQ1UsUUFBUSxFQUFFQyxJQUFJLENBQUNELFFBQVE7UUFFNUQsRUFBRSxFQUFFTSxPQUFPLEVBQUUsQ0FBQztZQUNWWixPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFnQjtZQUM1QixHQUFHLENBQUMsQ0FBQztnQkFDRCxLQUFLLENBQUMsQ0FBQyxDQUFDYSxTQUFTLEdBQUVDLFFBQVEsR0FBRUMsWUFBWSxHQUFFQyxRQUFRLEdBQUVaLEtBQUssR0FBRWEsSUFBSSxHQUFFQyxHQUFHLEVBQUMsQ0FBQyxHQUFHWixJQUFJO2dCQUU5RSxNQUFNLENBQUNSLEdBQUcsQ0FBQ1UsTUFBTSxDQUFDLEdBQUcsRUFBRVcsSUFBSSxDQUFDLENBQUM7b0JBQUNiLElBQUksRUFBRSxDQUFDO3dCQUFDTyxTQUFTO3dCQUFFQyxRQUFRO3dCQUFFQyxZQUFZO3dCQUFFQyxRQUFRO3dCQUFFWixLQUFLO3dCQUFFYSxJQUFJO3dCQUFFQyxHQUFHO29CQUFDLENBQUM7b0JBQUVSLE9BQU8sRUFBRSxDQUFrQjtnQkFBQSxDQUFDO1lBQ3ZJLENBQUMsQ0FBQyxLQUFLLEVBQUVVLEdBQUcsRUFBRSxDQUFDO2dCQUNYLE1BQU0sQ0FBQ3RCLEdBQUcsQ0FBQ1UsTUFBTSxDQUFDLEdBQUcsRUFBRUMsSUFBSSxDQUFDLENBQUM7b0JBQUNDLE9BQU8sRUFBRSxDQUF1QjtnQkFBQyxDQUFDO1lBQ3BFLENBQUM7UUFDTCxDQUFDLE1BQU0sQ0FBQztZQUNKWCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUF5QjtRQUN6QyxDQUFDO0lBQ0wsQ0FBQztBQUNMLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9wYWdlcy9hcGkvYXV0aC9sb2dpbi5qcz8xMzE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkYkNvbm5lY3QgZnJvbSBcIi4uLy4uLy4uL3V0aWxzL21vbmdvZGJcIjtcclxuaW1wb3J0IFJlZ1VzZXIgZnJvbSBcIi4uLy4uLy4uL01vZGVscy9SZWdVc2VyXCI7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdGpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbiAgICBhd2FpdCBkYkNvbm5lY3QoKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIlNpZ24gaW4gcmVxdWVzdCByZWNlaXZlZCBieSBsb2dpbiBBUElcIiwgcmVxLmJvZHkpXHJcblxyXG4gICAgaWYgKHJlcS5tZXRob2QgPT09IFwiUE9TVFwiKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHJlcS5ib2R5O1xyXG4gICAgICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSBkYXRhO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZGF0YVwiLCBkYXRhKVxyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBSZWdVc2VyLmZpbmRPbmUoeyBlbWFpbDogZW1haWwgfSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVXNlciBmb3VuZFwiLCB1c2VyKVxyXG5cclxuICAgICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDIyKS5zZW5kKHsgbWVzc2FnZTogXCJVc2VyIGRvZXMgbm90IGV4aXN0XCIgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGRvTWF0Y2ggPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XHJcblxyXG4gICAgICAgIGlmIChkb01hdGNoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGFzc3dvcmQgbWF0Y2hcIilcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgZmlyc3ROYW1lLCBsYXN0TmFtZSwgb3JnYW5pemF0aW9uLCBqb2JUaXRsZSwgZW1haWwsIHJvbGUsIF9pZCB9ID0gdXNlclxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7IHVzZXI6IHsgZmlyc3ROYW1lLCBsYXN0TmFtZSwgb3JnYW5pemF0aW9uLCBqb2JUaXRsZSwgZW1haWwsIHJvbGUsIF9pZCB9LCBtZXNzYWdlOiBcIlN1Y2Nlc3NmdWwgTG9naW5cIn0pXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogXCJJbmNvcnJlY3QgQ3JlZGVudGlhbHNcIiB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJQYXNzd29yZCBkb2VzIG5vdCBtYXRjaFwiKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJuYW1lcyI6WyJkYkNvbm5lY3QiLCJSZWdVc2VyIiwiYmNyeXB0IiwiaGFuZGxlciIsInJlcSIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwibWV0aG9kIiwiZGF0YSIsImVtYWlsIiwicGFzc3dvcmQiLCJ1c2VyIiwiZmluZE9uZSIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiZG9NYXRjaCIsImNvbXBhcmUiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsIm9yZ2FuaXphdGlvbiIsImpvYlRpdGxlIiwicm9sZSIsIl9pZCIsImpzb24iLCJlcnIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/login.js\n");

/***/ }),

/***/ "(api)/./utils/mongodb.js":
/*!**************************!*\
  !*** ./utils/mongodb.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGO_URL = process.env.MONGO_URL;\nif (!MONGO_URL) {\n    throw new Error('Mongo URL was not found. Review env variables.');\n}\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections growing exponentially\r\n * during API Route usage.\r\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGO_URL, opts).then((mongoose1)=>{\n            return mongoose1;\n        });\n    }\n    cached.conn = await cached.promise;\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9tb25nb2RiLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQjtBQUUvQixLQUFLLENBQUNDLFNBQVMsR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNGLFNBQVM7QUFFdkMsRUFBRSxHQUFHQSxTQUFTLEVBQUUsQ0FBQztJQUNmLEtBQUssQ0FBQyxHQUFHLENBQUNHLEtBQUssQ0FDYixDQUFnRDtBQUVwRCxDQUFDO0FBRUQsRUFJRztBQUdILEVBQUUsR0FBR0MsTUFBTSxFQUFFLENBQUM7SUFDWkEsTUFBTSxHQUFHQyxNQUFNLENBQUNOLFFBQVEsR0FBRyxDQUFDO1FBQUNPLElBQUksRUFBRSxJQUFJO1FBQUVDLE9BQU8sRUFBRSxJQUFJO0lBQUMsQ0FBQztBQUMxRCxDQUFDO2VBRWNDO0lBQ2IsRUFBRSxFQUFFSixNQUFNLENBQUNFLElBQUksRUFBRTs7O0lBSWpCLEVBQUUsR0FBR0YsTUFBTSxDQUFDRyxPQUFPLEVBQUUsQ0FBQztRQUNwQixLQUFLLENBQUNFLElBQUksR0FBRyxDQUFDO1lBQ1pDLGNBQWM7O1FBR2hCTixNQUFNLENBQUNHLE9BQU8sR0FBR1I7WUFDZixNQUFNLENBQUNBO1FBQ1QsQ0FBQztJQUNILENBQUM7SUFDREssTUFBTSxDQUFDRSxJQUFJLEdBQUcsS0FBSyxDQUFDRixDQUFBQSx1REFBYztJQUNsQyxNQUFNLENBQUNBLE1BQU0sQ0FBQ0UsSUFBSTtBQUNwQixDQUFDO0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi91dGlscy9tb25nb2RiLmpzPzhmZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuY29uc3QgTU9OR09fVVJMID0gcHJvY2Vzcy5lbnYuTU9OR09fVVJMXHJcblxyXG5pZiAoIU1PTkdPX1VSTCkge1xyXG4gIHRocm93IG5ldyBFcnJvcihcclxuICAgICdNb25nbyBVUkwgd2FzIG5vdCBmb3VuZC4gUmV2aWV3IGVudiB2YXJpYWJsZXMuJ1xyXG4gIClcclxufVxyXG5cclxuLyoqXHJcbiAqIEdsb2JhbCBpcyB1c2VkIGhlcmUgdG8gbWFpbnRhaW4gYSBjYWNoZWQgY29ubmVjdGlvbiBhY3Jvc3MgaG90IHJlbG9hZHNcclxuICogaW4gZGV2ZWxvcG1lbnQuIFRoaXMgcHJldmVudHMgY29ubmVjdGlvbnMgZ3Jvd2luZyBleHBvbmVudGlhbGx5XHJcbiAqIGR1cmluZyBBUEkgUm91dGUgdXNhZ2UuXHJcbiAqL1xyXG5sZXQgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlXHJcblxyXG5pZiAoIWNhY2hlZCkge1xyXG4gIGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZSA9IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRiQ29ubmVjdCgpIHtcclxuICBpZiAoY2FjaGVkLmNvbm4pIHtcclxuICAgIHJldHVybiBjYWNoZWQuY29ublxyXG4gIH1cclxuXHJcbiAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xyXG4gICAgY29uc3Qgb3B0cyA9IHtcclxuICAgICAgYnVmZmVyQ29tbWFuZHM6IGZhbHNlLFxyXG4gICAgfVxyXG5cclxuICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChNT05HT19VUkwsIG9wdHMpLnRoZW4oKG1vbmdvb3NlKSA9PiB7XHJcbiAgICAgIHJldHVybiBtb25nb29zZVxyXG4gICAgfSlcclxuICB9XHJcbiAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZVxyXG4gIHJldHVybiBjYWNoZWQuY29ublxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkYkNvbm5lY3QiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJNT05HT19VUkwiLCJwcm9jZXNzIiwiZW52IiwiRXJyb3IiLCJjYWNoZWQiLCJnbG9iYWwiLCJjb25uIiwicHJvbWlzZSIsImRiQ29ubmVjdCIsIm9wdHMiLCJidWZmZXJDb21tYW5kcyIsImNvbm5lY3QiLCJ0aGVuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./utils/mongodb.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/auth/login.js"));
module.exports = __webpack_exports__;

})();
"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/messaging/contactForm";
exports.ids = ["pages/api/messaging/contactForm"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "validator":
/*!****************************!*\
  !*** external "validator" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("validator");

/***/ }),

/***/ "(api)/./models/Message.js":
/*!***************************!*\
  !*** ./models/Message.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var validator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! validator */ \"validator\");\n/* harmony import */ var validator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(validator__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst CFMessageSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    firstName: {\n        type: String,\n        required: [\n            true,\n            'User first name is required'\n        ]\n    },\n    lastName: {\n        type: String,\n        required: [\n            true,\n            'User last name is required'\n        ]\n    },\n    email: {\n        type: String,\n        unique: true,\n        maxlength: 60,\n        validate: [\n            (validator__WEBPACK_IMPORTED_MODULE_1___default().isEmail),\n            \"Please enter a valid email address\"\n        ],\n        required: [\n            true,\n            'User email is required'\n        ]\n    },\n    message: {\n        type: String,\n        required: true\n    }\n}, {\n    timestamps: true\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.CFMessage) || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"CFMessage\", CFMessageSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvTWVzc2FnZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUErQjtBQUNFO0FBRWpDLEtBQUssQ0FBQ0UsZUFBZSxHQUFHLEdBQUcsQ0FBQ0Ysd0RBQWUsQ0FDekMsQ0FBQztJQUNDSSxTQUFTLEVBQUUsQ0FBQztRQUNWQyxJQUFJLEVBQUVDLE1BQU07UUFDWkMsUUFBUSxFQUFFLENBQUM7WUFBQSxJQUFJO1lBQUUsQ0FBNkI7UUFBQSxDQUFDO0lBQ2pELENBQUM7SUFDREMsUUFBUSxFQUFFLENBQUM7UUFDVEgsSUFBSSxFQUFFQyxNQUFNO1FBQ1pDLFFBQVEsRUFBRSxDQUFDO1lBQUEsSUFBSTtZQUFFLENBQTRCO1FBQUEsQ0FBQztJQUNoRCxDQUFDO0lBQ0RFLEtBQUssRUFBRSxDQUFDO1FBQ05KLElBQUksRUFBRUMsTUFBTTtRQUNaSSxNQUFNLEVBQUUsSUFBSTtRQUNaQyxTQUFTLEVBQUUsRUFBRTtRQUNiQyxRQUFRLEVBQUUsQ0FBQ1g7WUFBQUEsMERBQWlCO1lBQUUsQ0FBb0M7UUFBQSxDQUFDO1FBQ25FTSxRQUFRLEVBQUUsQ0FBQztZQUFBLElBQUk7WUFBRSxDQUF3QjtRQUFBLENBQUM7SUFDNUMsQ0FBQztJQUNETyxPQUFPLEVBQUUsQ0FBQztRQUNOVCxJQUFJLEVBQUVDLE1BQU07UUFDWkMsUUFBUSxFQUFFLElBQUk7SUFDbEIsQ0FBQztBQUNILENBQUMsRUFDRCxDQUFDO0lBQUNRLFVBQVUsRUFBRSxJQUFJO0FBQUMsQ0FBQztBQUd0QixpRUFBZWYsa0VBQXlCLElBQUlBLHFEQUFjLENBQUMsQ0FBVyxZQUFFRSxlQUFlLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LWFwcC8uL21vZGVscy9NZXNzYWdlLmpzPzE3YTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5pbXBvcnQgdmFsaWRhdG9yIGZyb20gJ3ZhbGlkYXRvcic7XHJcblxyXG5jb25zdCBDRk1lc3NhZ2VTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxyXG4gIHtcclxuICAgIGZpcnN0TmFtZToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ1VzZXIgZmlyc3QgbmFtZSBpcyByZXF1aXJlZCddLFxyXG4gICAgfSxcclxuICAgIGxhc3ROYW1lOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnVXNlciBsYXN0IG5hbWUgaXMgcmVxdWlyZWQnXSxcclxuICAgIH0sXHJcbiAgICBlbWFpbDoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHVuaXF1ZTogdHJ1ZSxcclxuICAgICAgbWF4bGVuZ3RoOiA2MCxcclxuICAgICAgdmFsaWRhdGU6IFt2YWxpZGF0b3IuaXNFbWFpbCwgXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzXCJdLFxyXG4gICAgICByZXF1aXJlZDogW3RydWUsICdVc2VyIGVtYWlsIGlzIHJlcXVpcmVkJ10sXHJcbiAgICB9LFxyXG4gICAgbWVzc2FnZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgfSxcclxuICB7IHRpbWVzdGFtcHM6IHRydWUgfVxyXG4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWxzLkNGTWVzc2FnZSB8fCBtb25nb29zZS5tb2RlbChcIkNGTWVzc2FnZVwiLCBDRk1lc3NhZ2VTY2hlbWEpO1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJ2YWxpZGF0b3IiLCJDRk1lc3NhZ2VTY2hlbWEiLCJTY2hlbWEiLCJmaXJzdE5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJsYXN0TmFtZSIsImVtYWlsIiwidW5pcXVlIiwibWF4bGVuZ3RoIiwidmFsaWRhdGUiLCJpc0VtYWlsIiwibWVzc2FnZSIsInRpbWVzdGFtcHMiLCJtb2RlbHMiLCJDRk1lc3NhZ2UiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./models/Message.js\n");

/***/ }),

/***/ "(api)/./models/UnregUser.js":
/*!*****************************!*\
  !*** ./models/UnregUser.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var validator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! validator */ \"validator\");\n/* harmony import */ var validator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(validator__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst UnregUserSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    firstName: {\n        type: String,\n        required: [\n            true,\n            'User first name is required'\n        ]\n    },\n    lastName: {\n        type: String,\n        required: [\n            true,\n            'User last name is required'\n        ]\n    },\n    organization: {\n        type: String\n    },\n    jobTitle: {\n        type: String\n    },\n    email: {\n        type: String,\n        unique: true,\n        maxlength: 60,\n        validate: [\n            (validator__WEBPACK_IMPORTED_MODULE_1___default().isEmail),\n            \"Please enter a valid email address\"\n        ],\n        required: [\n            true,\n            'User email is required'\n        ]\n    },\n    phoneNumber: {\n        type: String,\n        validate: {\n            validator: function(v) {\n                return /\\d{3}-\\d{3}-\\d{4}/.test(v);\n            },\n            message: (props)=>`${props.value} is not a valid phone number!`\n        }\n    },\n    streetAdress: {\n        type: String,\n        maxlength: 60\n    },\n    city: {\n        type: String,\n        maxlength: 20\n    },\n    state: {\n        type: String,\n        maxlength: 15\n    },\n    zipCode: {\n        type: String,\n        maxlength: 5\n    },\n    password: {\n        type: String,\n        maxlength: 60\n    },\n    role: {\n        type: String,\n        required: true\n    },\n    notes: {\n        type: String\n    }\n}, {\n    timestamps: true\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.UnregUser) || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"UnregUser\", UnregUserSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvVW5yZWdVc2VyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQStCO0FBQ0U7QUFFakMsS0FBSyxDQUFDRSxlQUFlLEdBQUcsR0FBRyxDQUFDRix3REFBZSxDQUN6QyxDQUFDO0lBQ0NJLFNBQVMsRUFBRSxDQUFDO1FBQ1ZDLElBQUksRUFBRUMsTUFBTTtRQUNaQyxRQUFRLEVBQUUsQ0FBQztZQUFBLElBQUk7WUFBRSxDQUE2QjtRQUFBLENBQUM7SUFDakQsQ0FBQztJQUNEQyxRQUFRLEVBQUUsQ0FBQztRQUNUSCxJQUFJLEVBQUVDLE1BQU07UUFDWkMsUUFBUSxFQUFFLENBQUM7WUFBQSxJQUFJO1lBQUUsQ0FBNEI7UUFBQSxDQUFDO0lBQ2hELENBQUM7SUFDREUsWUFBWSxFQUFFLENBQUM7UUFDYkosSUFBSSxFQUFFQyxNQUFNO0lBQ2QsQ0FBQztJQUNESSxRQUFRLEVBQUUsQ0FBQztRQUNUTCxJQUFJLEVBQUVDLE1BQU07SUFDZCxDQUFDO0lBQ0RLLEtBQUssRUFBRSxDQUFDO1FBQ05OLElBQUksRUFBRUMsTUFBTTtRQUNaTSxNQUFNLEVBQUUsSUFBSTtRQUNaQyxTQUFTLEVBQUUsRUFBRTtRQUNiQyxRQUFRLEVBQUUsQ0FBQ2I7WUFBQUEsMERBQWlCO1lBQUUsQ0FBb0M7UUFBQSxDQUFDO1FBQ25FTSxRQUFRLEVBQUUsQ0FBQztZQUFBLElBQUk7WUFBRSxDQUF3QjtRQUFBLENBQUM7SUFDNUMsQ0FBQztJQUNEUyxXQUFXLEVBQUUsQ0FBQztRQUNWWCxJQUFJLEVBQUVDLE1BQU07UUFDWlEsUUFBUSxFQUFFLENBQUM7WUFDUGIsU0FBUyxFQUFFLFFBQVEsQ0FBQ2dCLENBQUMsRUFBRSxDQUFDO2dCQUNwQixNQUFNLHFCQUFxQkMsSUFBSSxDQUFDRCxDQUFDO1lBQ3JDLENBQUM7WUFDREUsT0FBTyxHQUFFQyxLQUFLLE1BQU9BLEtBQUssQ0FBQ0MsS0FBSyxDQUFDLDZCQUE2QjtRQUNsRSxDQUFDO0lBQ0wsQ0FBQztJQUNEQyxZQUFZLEVBQUUsQ0FBQztRQUNiakIsSUFBSSxFQUFFQyxNQUFNO1FBQ1pPLFNBQVMsRUFBRSxFQUFFO0lBQ2YsQ0FBQztJQUNEVSxJQUFJLEVBQUUsQ0FBQztRQUNMbEIsSUFBSSxFQUFFQyxNQUFNO1FBQ1pPLFNBQVMsRUFBRSxFQUFFO0lBQ2YsQ0FBQztJQUNEVyxLQUFLLEVBQUUsQ0FBQztRQUNObkIsSUFBSSxFQUFFQyxNQUFNO1FBQ1pPLFNBQVMsRUFBRSxFQUFFO0lBQ2YsQ0FBQztJQUNEWSxPQUFPLEVBQUUsQ0FBQztRQUNScEIsSUFBSSxFQUFFQyxNQUFNO1FBQ1pPLFNBQVMsRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUNEYSxRQUFRLEVBQUUsQ0FBQztRQUNUckIsSUFBSSxFQUFFQyxNQUFNO1FBQ1pPLFNBQVMsRUFBRSxFQUFFO0lBQ2YsQ0FBQztJQUNEYyxJQUFJLEVBQUUsQ0FBQztRQUNMdEIsSUFBSSxFQUFFQyxNQUFNO1FBQ1pDLFFBQVEsRUFBRSxJQUFJO0lBQ2hCLENBQUM7SUFDRHFCLEtBQUssRUFBRSxDQUFDO1FBQ052QixJQUFJLEVBQUVDLE1BQU07SUFDZCxDQUFDO0FBQ0gsQ0FBQyxFQUNELENBQUM7SUFBQ3VCLFVBQVUsRUFBRSxJQUFJO0FBQUMsQ0FBQztBQUd0QixpRUFBZTdCLGtFQUF5QixJQUFJQSxxREFBYyxDQUFDLENBQVcsWUFBRUUsZUFBZSxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9tb2RlbHMvVW5yZWdVc2VyLmpzPzg5ZTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5pbXBvcnQgdmFsaWRhdG9yIGZyb20gJ3ZhbGlkYXRvcic7XHJcblxyXG5jb25zdCBVbnJlZ1VzZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxyXG4gIHtcclxuICAgIGZpcnN0TmFtZToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ1VzZXIgZmlyc3QgbmFtZSBpcyByZXF1aXJlZCddLFxyXG4gICAgfSxcclxuICAgIGxhc3ROYW1lOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnVXNlciBsYXN0IG5hbWUgaXMgcmVxdWlyZWQnXSxcclxuICAgIH0sXHJcbiAgICBvcmdhbml6YXRpb246IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgfSxcclxuICAgIGpvYlRpdGxlOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgIH0sXHJcbiAgICBlbWFpbDoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHVuaXF1ZTogdHJ1ZSxcclxuICAgICAgbWF4bGVuZ3RoOiA2MCxcclxuICAgICAgdmFsaWRhdGU6IFt2YWxpZGF0b3IuaXNFbWFpbCwgXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzXCJdLFxyXG4gICAgICByZXF1aXJlZDogW3RydWUsICdVc2VyIGVtYWlsIGlzIHJlcXVpcmVkJ10sXHJcbiAgICB9LFxyXG4gICAgcGhvbmVOdW1iZXI6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgdmFsaWRhdGU6IHtcclxuICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbih2KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gL1xcZHszfS1cXGR7M30tXFxkezR9Ly50ZXN0KHYpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBwcm9wcyA9PiBgJHtwcm9wcy52YWx1ZX0gaXMgbm90IGEgdmFsaWQgcGhvbmUgbnVtYmVyIWAsXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBzdHJlZXRBZHJlc3M6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICBtYXhsZW5ndGg6IDYwLFxyXG4gICAgfSxcclxuICAgIGNpdHk6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICBtYXhsZW5ndGg6IDIwLFxyXG4gICAgfSxcclxuICAgIHN0YXRlOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgbWF4bGVuZ3RoOiAxNSxcclxuICAgIH0sXHJcbiAgICB6aXBDb2RlOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgbWF4bGVuZ3RoOiA1LFxyXG4gICAgfSxcclxuICAgIHBhc3N3b3JkOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgbWF4bGVuZ3RoOiA2MCxcclxuICAgIH0sXHJcbiAgICByb2xlOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB9LFxyXG4gICAgbm90ZXM6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgfVxyXG4gIH0sXHJcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH1cclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVscy5VbnJlZ1VzZXIgfHwgbW9uZ29vc2UubW9kZWwoXCJVbnJlZ1VzZXJcIiwgVW5yZWdVc2VyU2NoZW1hKTtcclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwidmFsaWRhdG9yIiwiVW5yZWdVc2VyU2NoZW1hIiwiU2NoZW1hIiwiZmlyc3ROYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwibGFzdE5hbWUiLCJvcmdhbml6YXRpb24iLCJqb2JUaXRsZSIsImVtYWlsIiwidW5pcXVlIiwibWF4bGVuZ3RoIiwidmFsaWRhdGUiLCJpc0VtYWlsIiwicGhvbmVOdW1iZXIiLCJ2IiwidGVzdCIsIm1lc3NhZ2UiLCJwcm9wcyIsInZhbHVlIiwic3RyZWV0QWRyZXNzIiwiY2l0eSIsInN0YXRlIiwiemlwQ29kZSIsInBhc3N3b3JkIiwicm9sZSIsIm5vdGVzIiwidGltZXN0YW1wcyIsIm1vZGVscyIsIlVucmVnVXNlciIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./models/UnregUser.js\n");

/***/ }),

/***/ "(api)/./pages/api/messaging/contactForm.js":
/*!********************************************!*\
  !*** ./pages/api/messaging/contactForm.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/mongodb */ \"(api)/./utils/mongodb.js\");\n/* harmony import */ var _models_Message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../models/Message */ \"(api)/./models/Message.js\");\n/* harmony import */ var _models_UnregUser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../models/UnregUser */ \"(api)/./models/UnregUser.js\");\n\n\n\nconst handler = async (req, res)=>{\n    console.log(\"Message request received\", req.method);\n    console.log(req.body);\n    const { method  } = req;\n    await (0,_utils_mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n    if (method === \"GET\") {\n        try {\n            const Messages = await _models_Message__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({});\n            console.log(Messages);\n            return res.status(200).json(Messages);\n        } catch (err) {\n            res.status(500).json(err);\n        }\n    }\n    if (method === \"POST\") {\n        const data = req.body;\n        const { firstName , lastName , email , message , role  } = JSON.parse(data);\n        const user = await _models_UnregUser__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n            email: email\n        });\n        console.log(\"Returning User Message\", user);\n        if (!user) {\n            try {\n                const newUser = await _models_UnregUser__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create({\n                    firstName,\n                    lastName,\n                    email,\n                    role\n                });\n                const newMessage = await _models_Message__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n                    firstName,\n                    lastName,\n                    email,\n                    message\n                });\n                console.log(\"New unregistered user\", newUser);\n                console.log(\"Message Posted\", newMessage);\n                return res.status(201).json({\n                    message: \"Successful\"\n                });\n            } catch (err) {\n                console.log(err);\n            }\n        }\n        try {\n            const newMessage = await _models_Message__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create(req.body);\n            console.log(\"Message Posted\", newMessage);\n            res.status(201).json(newMessage);\n        } catch (err) {\n            res.status(500).json(err);\n        }\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handler);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvbWVzc2FnaW5nL2NvbnRhY3RGb3JtLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEM7QUFDQztBQUNFO0FBRWpELEtBQUssQ0FBQ0csT0FBTyxVQUFVQyxHQUFHLEVBQUVDLEdBQUcsR0FBSyxDQUFDO0lBQ25DQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUEwQiwyQkFBRUgsR0FBRyxDQUFDSSxNQUFNO0lBQ2xERixPQUFPLENBQUNDLEdBQUcsQ0FBQ0gsR0FBRyxDQUFDSyxJQUFJO0lBQ3BCLEtBQUssQ0FBQyxDQUFDLENBQUNELE1BQU0sRUFBQyxDQUFDLEdBQUdKLEdBQUc7SUFFdEIsS0FBSyxDQUFDSiwwREFBUyxFQUFFLENBQUM7SUFFbEIsRUFBRSxFQUFFUSxNQUFNLEtBQUssQ0FBSyxNQUFFLENBQUM7UUFDckIsR0FBRyxDQUFDLENBQUM7WUFDSCxLQUFLLENBQUNFLFFBQVEsR0FBRyxLQUFLLENBQUNULDREQUFjLENBQUMsQ0FBQyxDQUFDO1lBQ3hDSyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csUUFBUTtZQUNwQixNQUFNLENBQUNMLEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsRUFBRUMsSUFBSSxDQUFFSCxRQUFRO1FBQ3ZDLENBQUMsQ0FBQyxLQUFLLEVBQUVJLEdBQUcsRUFBRSxDQUFDO1lBQ2JULEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsRUFBRUMsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQztRQUM1QixDQUFDO0lBQ0gsQ0FBQztJQUNELEVBQUUsRUFBRU4sTUFBTSxLQUFLLENBQU0sT0FBRSxDQUFDO1FBQ3RCLEtBQUssQ0FBQ08sSUFBSSxHQUFHWCxHQUFHLENBQUNLLElBQUk7UUFDckIsS0FBSyxDQUFDLENBQUMsQ0FBQ08sU0FBUyxHQUFFQyxRQUFRLEdBQUVDLEtBQUssR0FBRUMsT0FBTyxHQUFFQyxJQUFJLEVBQUMsQ0FBQyxHQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FBQ1AsSUFBSTtRQUVyRSxLQUFLLENBQUNRLElBQUksR0FBRyxLQUFLLENBQUNyQixpRUFBaUIsQ0FBQyxDQUFDO1lBQUNnQixLQUFLLEVBQUVBLEtBQUs7UUFBQyxDQUFDO1FBQ3JEWixPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUF3Qix5QkFBRWdCLElBQUk7UUFFMUMsRUFBRSxHQUFHQSxJQUFJLEVBQUUsQ0FBQztZQUNWLEdBQUcsQ0FBQyxDQUFDO2dCQUNILEtBQUssQ0FBQ0UsT0FBTyxHQUFHLEtBQUssQ0FBQ3ZCLGdFQUFnQixDQUFDLENBQUM7b0JBQUNjLFNBQVM7b0JBQUdDLFFBQVE7b0JBQUVDLEtBQUs7b0JBQUVFLElBQUk7Z0JBQUMsQ0FBQztnQkFDNUUsS0FBSyxDQUFDTyxVQUFVLEdBQUcsS0FBSyxDQUFDMUIsOERBQWdCLENBQUMsQ0FBQztvQkFBQ2UsU0FBUztvQkFBR0MsUUFBUTtvQkFBRUMsS0FBSztvQkFBRUMsT0FBTztnQkFBQSxDQUFDO2dCQUVqRmIsT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FBdUIsd0JBQUVrQixPQUFPO2dCQUM1Q25CLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQWdCLGlCQUFFb0IsVUFBVSxDQUFDLENBQUM7Z0JBRTFDLE1BQU0sQ0FBQ3RCLEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsRUFBRUMsSUFBSSxDQUFDLENBQUM7b0JBQUNNLE9BQU8sRUFBRSxDQUFZO2dCQUFDLENBQUM7WUFDdkQsQ0FBQyxDQUFDLEtBQUssRUFBRUwsR0FBRyxFQUFFLENBQUM7Z0JBQ2JSLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDTyxHQUFHLENBQUMsQ0FBQztZQUNuQixDQUFDO1FBQ0gsQ0FBQztRQUVELEdBQUcsQ0FBQyxDQUFDO1lBQ0gsS0FBSyxDQUFDYSxVQUFVLEdBQUcsS0FBSyxDQUFDMUIsOERBQWdCLENBQUNHLEdBQUcsQ0FBQ0ssSUFBSTtZQUVsREgsT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FBZ0IsaUJBQUNvQixVQUFVLENBQUMsQ0FBQztZQUV6Q3RCLEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsRUFBRUMsSUFBSSxDQUFDYyxVQUFVLENBQUMsQ0FBQztRQUNuQyxDQUFDLENBQUMsS0FBSyxFQUFFYixHQUFHLEVBQUUsQ0FBQztZQUViVCxHQUFHLENBQUNPLE1BQU0sQ0FBQyxHQUFHLEVBQUVDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUM7UUFDNUIsQ0FBQztJQUNILENBQUM7QUFDSCxDQUFDO0FBRUQsaUVBQWVYLE9BQU8sRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LWFwcC8uL3BhZ2VzL2FwaS9tZXNzYWdpbmcvY29udGFjdEZvcm0uanM/ZjRiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGJDb25uZWN0IGZyb20gJy4uLy4uLy4uL3V0aWxzL21vbmdvZGInO1xyXG5pbXBvcnQgQ0ZNZXNzYWdlIGZyb20gJy4uLy4uLy4uL21vZGVscy9NZXNzYWdlJ1xyXG5pbXBvcnQgVW5yZWdVc2VyIGZyb20gXCIuLi8uLi8uLi9tb2RlbHMvVW5yZWdVc2VyXCI7XHJcblxyXG5jb25zdCBoYW5kbGVyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc29sZS5sb2coXCJNZXNzYWdlIHJlcXVlc3QgcmVjZWl2ZWRcIiwgcmVxLm1ldGhvZClcclxuICBjb25zb2xlLmxvZyhyZXEuYm9keSlcclxuICBjb25zdCB7IG1ldGhvZCB9ID0gcmVxO1xyXG5cclxuICBhd2FpdCBkYkNvbm5lY3QoKTtcclxuXHJcbiAgaWYgKG1ldGhvZCA9PT0gXCJHRVRcIikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgTWVzc2FnZXMgPSBhd2FpdCBDRk1lc3NhZ2UuZmluZCh7fSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKE1lc3NhZ2VzKVxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oIE1lc3NhZ2VzKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gICAgfVxyXG4gIH1cclxuICBpZiAobWV0aG9kID09PSBcIlBPU1RcIikge1xyXG4gICAgY29uc3QgZGF0YSA9IHJlcS5ib2R5XHJcbiAgICBjb25zdCB7IGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsLCBtZXNzYWdlLCByb2xlIH0gPSBKU09OLnBhcnNlKGRhdGEpO1xyXG5cclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVbnJlZ1VzZXIuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9KVxyXG4gICAgY29uc29sZS5sb2coXCJSZXR1cm5pbmcgVXNlciBNZXNzYWdlXCIsIHVzZXIpXHJcblxyXG4gICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgbmV3VXNlciA9IGF3YWl0IFVucmVnVXNlci5jcmVhdGUoeyBmaXJzdE5hbWUgLCBsYXN0TmFtZSwgZW1haWwsIHJvbGUgfSk7XHJcbiAgICAgICAgY29uc3QgbmV3TWVzc2FnZSA9IGF3YWl0IENGTWVzc2FnZS5jcmVhdGUoeyBmaXJzdE5hbWUgLCBsYXN0TmFtZSwgZW1haWwsIG1lc3NhZ2V9KTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJOZXcgdW5yZWdpc3RlcmVkIHVzZXJcIiwgbmV3VXNlcilcclxuICAgICAgICBjb25zb2xlLmxvZyhcIk1lc3NhZ2UgUG9zdGVkXCIsIG5ld01lc3NhZ2UpO1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oeyBtZXNzYWdlOiBcIlN1Y2Nlc3NmdWxcIiB9KTtcclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IG5ld01lc3NhZ2UgPSBhd2FpdCBDRk1lc3NhZ2UuY3JlYXRlKHJlcS5ib2R5KTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKFwiTWVzc2FnZSBQb3N0ZWRcIixuZXdNZXNzYWdlKTtcclxuICAgICAgXHJcbiAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKG5ld01lc3NhZ2UpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIFxyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGhhbmRsZXI7XHJcbiJdLCJuYW1lcyI6WyJkYkNvbm5lY3QiLCJDRk1lc3NhZ2UiLCJVbnJlZ1VzZXIiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwiY29uc29sZSIsImxvZyIsIm1ldGhvZCIsImJvZHkiLCJNZXNzYWdlcyIsImZpbmQiLCJzdGF0dXMiLCJqc29uIiwiZXJyIiwiZGF0YSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJtZXNzYWdlIiwicm9sZSIsIkpTT04iLCJwYXJzZSIsInVzZXIiLCJmaW5kT25lIiwibmV3VXNlciIsImNyZWF0ZSIsIm5ld01lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/messaging/contactForm.js\n");

/***/ }),

/***/ "(api)/./utils/mongodb.js":
/*!**************************!*\
  !*** ./utils/mongodb.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGO_URL = process.env.MONGO_URL;\nif (!MONGO_URL) {\n    throw new Error('Mongo URL was not found. Review env variables.');\n}\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections growing exponentially\r\n * during API Route usage.\r\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGO_URL, opts).then((mongoose1)=>{\n            return mongoose1;\n        });\n    }\n    cached.conn = await cached.promise;\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9tb25nb2RiLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQjtBQUUvQixLQUFLLENBQUNDLFNBQVMsR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNGLFNBQVM7QUFFdkMsRUFBRSxHQUFHQSxTQUFTLEVBQUUsQ0FBQztJQUNmLEtBQUssQ0FBQyxHQUFHLENBQUNHLEtBQUssQ0FDYixDQUFnRDtBQUVwRCxDQUFDO0FBRUQsRUFJRztBQUdILEVBQUUsR0FBR0MsTUFBTSxFQUFFLENBQUM7SUFDWkEsTUFBTSxHQUFHQyxNQUFNLENBQUNOLFFBQVEsR0FBRyxDQUFDO1FBQUNPLElBQUksRUFBRSxJQUFJO1FBQUVDLE9BQU8sRUFBRSxJQUFJO0lBQUMsQ0FBQztBQUMxRCxDQUFDO2VBRWNDO0lBQ2IsRUFBRSxFQUFFSixNQUFNLENBQUNFLElBQUksRUFBRTs7O0lBSWpCLEVBQUUsR0FBR0YsTUFBTSxDQUFDRyxPQUFPLEVBQUUsQ0FBQztRQUNwQixLQUFLLENBQUNFLElBQUksR0FBRyxDQUFDO1lBQ1pDLGNBQWM7O1FBR2hCTixNQUFNLENBQUNHLE9BQU8sR0FBR1I7WUFDZixNQUFNLENBQUNBO1FBQ1QsQ0FBQztJQUNILENBQUM7SUFDREssTUFBTSxDQUFDRSxJQUFJLEdBQUcsS0FBSyxDQUFDRixDQUFBQSx1REFBYztJQUNsQyxNQUFNLENBQUNBLE1BQU0sQ0FBQ0UsSUFBSTtBQUNwQixDQUFDO0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi91dGlscy9tb25nb2RiLmpzPzhmZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuY29uc3QgTU9OR09fVVJMID0gcHJvY2Vzcy5lbnYuTU9OR09fVVJMXHJcblxyXG5pZiAoIU1PTkdPX1VSTCkge1xyXG4gIHRocm93IG5ldyBFcnJvcihcclxuICAgICdNb25nbyBVUkwgd2FzIG5vdCBmb3VuZC4gUmV2aWV3IGVudiB2YXJpYWJsZXMuJ1xyXG4gIClcclxufVxyXG5cclxuLyoqXHJcbiAqIEdsb2JhbCBpcyB1c2VkIGhlcmUgdG8gbWFpbnRhaW4gYSBjYWNoZWQgY29ubmVjdGlvbiBhY3Jvc3MgaG90IHJlbG9hZHNcclxuICogaW4gZGV2ZWxvcG1lbnQuIFRoaXMgcHJldmVudHMgY29ubmVjdGlvbnMgZ3Jvd2luZyBleHBvbmVudGlhbGx5XHJcbiAqIGR1cmluZyBBUEkgUm91dGUgdXNhZ2UuXHJcbiAqL1xyXG5sZXQgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlXHJcblxyXG5pZiAoIWNhY2hlZCkge1xyXG4gIGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZSA9IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRiQ29ubmVjdCgpIHtcclxuICBpZiAoY2FjaGVkLmNvbm4pIHtcclxuICAgIHJldHVybiBjYWNoZWQuY29ublxyXG4gIH1cclxuXHJcbiAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xyXG4gICAgY29uc3Qgb3B0cyA9IHtcclxuICAgICAgYnVmZmVyQ29tbWFuZHM6IGZhbHNlLFxyXG4gICAgfVxyXG5cclxuICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChNT05HT19VUkwsIG9wdHMpLnRoZW4oKG1vbmdvb3NlKSA9PiB7XHJcbiAgICAgIHJldHVybiBtb25nb29zZVxyXG4gICAgfSlcclxuICB9XHJcbiAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZVxyXG4gIHJldHVybiBjYWNoZWQuY29ublxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkYkNvbm5lY3QiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJNT05HT19VUkwiLCJwcm9jZXNzIiwiZW52IiwiRXJyb3IiLCJjYWNoZWQiLCJnbG9iYWwiLCJjb25uIiwicHJvbWlzZSIsImRiQ29ubmVjdCIsIm9wdHMiLCJidWZmZXJDb21tYW5kcyIsImNvbm5lY3QiLCJ0aGVuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./utils/mongodb.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/messaging/contactForm.js"));
module.exports = __webpack_exports__;

})();